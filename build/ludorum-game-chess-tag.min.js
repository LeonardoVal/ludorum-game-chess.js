//! ludorum-game-chess 0.0.1

(function(e){"use strict";this["ludorum-game-chess"]=e(this.base,this.Sermat,this.ludorum,this.ChessJS)}).call(this,function __init__(base,Sermat,ludorum,ChessJS){"use strict";var declare=base.declare,iterable=base.iterable,UserInterface=ludorum.players.UserInterface;"object"==typeof ChessJS&&(ChessJS=ChessJS.Chess);var CHESS=ChessJS(),INITIAL_FEN=CHESS.fen(),chessjs_package={__package__:"chess.js",__name__:"ChessJS",__init__:eval("(function __init__() { return ("+ChessJS+"); })"),__dependencies__:[]},exports={__package__:"ludorum-game-chess",__name__:"ludorum_game_chess",__init__:__init__,__dependencies__:[base,Sermat,ludorum,chessjs_package],__SERMAT__:{include:[base,ludorum]}};function syncGlobalChess(e){return e=e||INITIAL_FEN,CHESS.__currentFEN__!==e&&(CHESS.load(e),CHESS.__currentFEN__=e),CHESS}var Chess=exports.Chess=declare(ludorum.Game,{name:"Chess",players:["White","Black"],constructor:function(e){this.fen=e&&e.fen||INITIAL_FEN;var s=syncGlobalChess(this.fen);ludorum.Game.call(this,this.players["w"===s.turn()?0:1])},moves:function(){var e=syncGlobalChess(this.fen),s=null;return e.game_over()||((s={})[this.activePlayer()]=e.moves()),s},next:function(e,s,t){base.raiseIf(s,"Haps are not required (given ",s,")!");var n=syncGlobalChess(this.fen);return n.move(e[this.activePlayer()]),t?(this.fen=n.fen(),this):new this.constructor({fen:n.fen()})},result:function(){var e=syncGlobalChess(this.fen);return e.game_over()?e.in_checkmate()?this.defeat():this.tied():null},"static __SERMAT__":{identifier:"Chess",serializer:function(e){return[{fen:e.fen}]}},clone:function(){return new this.constructor(this.fen)},toString:function(){return this.toFEN()},toFEN:function(){return this.fen},"static fromFEN":function(e){return new this({fen:this.fen})},square:(PIECES={p:"Pawn",n:"Knight",b:"Bishop",r:"Rook",q:"Queen",k:"King"},function(e){Array.isArray(e)&&(e="abcdefgh".charAt(e[1])+(e[0]+1));var s=syncGlobalChess(this.fen).get(e);return s&&(s.player=this.players["w"===s.color?0:1],s.name=PIECES[s.type]),s}),"static heuristics":{}}),PIECES;return ludorum.games.Chess=Chess,Chess.__SERMAT__.identifier=exports.__package__+"."+Chess.__SERMAT__.identifier,exports.__SERMAT__.include.push(Chess),Sermat.include(exports),exports});
//# sourceMappingURL=ludorum-game-chess-tag.min.js.map