//! ludorum-game-chess 0.0.1

(function(e){"use strict";"function"==typeof define&&define.amd?define(["creatartis-base","sermat","ludorum","chess"],e):"object"==typeof exports&&module.exports?module.exports=e(require("creatartis-base"),require("sermat"),require("ludorum"),require("chess")):this["ludorum-game-chess"]=e(this.base,this.Sermat,this.ludorum,this.ChessJS)}).call(this,function e(t,r,n,i){"use strict";var s=t.declare;t.iterable,n.players.UserInterface;"object"==typeof i&&(i=i.Chess);var a=i(),u=a.fen(),c={__package__:"ludorum-game-chess",__name__:"ludorum_game_chess",__init__:e,__dependencies__:[t,r,n,i],__SERMAT__:{include:[t,n]}};function o(e){return e=e||u,a.__currentFEN__!==e&&(a.load(e),a.__currentFEN__=e),a}var _,f=c.Chess=s(n.Game,{name:"Chess",players:["White","Black"],constructor:function(e){this.fen=e&&e.fen||u;var t=o(this.fen);n.Game.call(this,this.players["w"===t.turn()?0:1])},moves:function(){var e=o(this.fen),t=null;return e.game_over()||((t={})[this.activePlayer()]=e.moves()),t},next:function(e,r,n){t.raiseIf(r,"Haps are not required (given ",r,")!");var i=o(this.fen);if(i.move(e[this.activePlayer()]),!n)return new this.constructor({fen:i.fen()});this.fen=i.fen()},result:function(){var e=o(this.fen);return e.game_over()?e.in_checkmate()?this.defeat():this.tied():null},"static __SERMAT__":{identifier:"Chess",serializer:function(e){return[{fen:e.fen}]}},clone:function(){return new this.constructor(this.fen)},toString:function(){return this.toFEN()},toFEN:function(){return this.fen},"static fromFEN":function(e){return new this({fen:this.fen})},square:(_={p:"Pawn",n:"Knight",b:"Bishop",r:"Rook",q:"Queen",k:"King"},function(e){Array.isArray(e)&&(e="abcdefgh".charAt(e[1])+(e[0]+1));var t=o(this.fen).get(e);return t&&(t.player=this.players["w"===t.color?0:1],t.name=_[t.type]),t}),"static heuristics":{}});return n.games.Chess=f,f.__SERMAT__.identifier=c.__package__+"."+f.__SERMAT__.identifier,c.__SERMAT__.include.push(f),r.include(c),c});
//# sourceMappingURL=ludorum-game-chess.min.js.map